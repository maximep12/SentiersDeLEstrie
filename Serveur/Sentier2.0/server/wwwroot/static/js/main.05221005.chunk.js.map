{"version":3,"sources":["Assets/logoSentiersEstrie.png","Assets/logoUniversiteSherbrooke.png","DesktopComponents/Button/SentiersButton.tsx","Utils/colors.ts","DesktopComponents/Preview/Styles.tsx","DesktopComponents/PreviewInterestPoint/PreviewInterestPoint.tsx","DesktopComponents/PreviewTrail/PreviewTrail.tsx","DesktopComponents/PreviewMap/PreviewMap.tsx","DesktopComponents/PreviewZone/PreviewZone.tsx","DesktopComponents/Preview/Preview.tsx","DesktopViews/PreviewView.ts","DesktopViews/UpdateView.ts","DesktopControllers/UpdateAppMap.tsx","DesktopViews/DownloadLastFile.ts","DesktopComponents/LastUsedExcel/LastUsedExcel.tsx","Assets/sentiersImages.ts","Utils/HeaderSentier.tsx","App.tsx","reportWebVitals.js","index.js","models/coordinatemodel.ts","models/queries.ts","models/completemodel.ts","Utils/DatabaseUtils.ts","models/zonemodel.ts","models/interestpointsmodel.ts","models/usermapmodel.ts","models/interestpointdatamodel.ts","models/trailmodel.ts","Utils/ImportExcelFile.ts"],"names":["MyButtonTypes","SentiersButton","text","type","color","hover","textColor","textColorHover","icon","borderColor","onClick","useState","isHover","setIsHover","stateBackground","setBackgroundColor","stateColor","setStateColor","useEffect","style","backgroundColor","onMouseOver","onMouseLeave","className","marginRight","colors","useStyles","makeStyles","theme","addInfos","textAlign","normalText","fontWeight","padding","headings","margin","title","display","fontSize","rowNotColored","rowColored","circularProgress","accordionElement","width","border","borderRadius","marginBottom","contentAligner","flexDirection","preview","accordionDoubleElement","root","expandIcon","PreviewInterestPoint","model","zoneId","mapId","interestPointName","itemNumber","premiseInterestPoint","setInterestPoint","classes","poi","Queries","getInterestPointsFromObjectModel","name","code","description","coordinate","longitude","latitude","PreviewTrail","trailName","premiseTrail","setTrail","t","getTrailFromObjectModel","difficulty","PreviewMap","premiseMapId","setMapId","Map","trails","setTrails","interestPoints","setIterestPoints","m","getUserMapFromObjectModel","pointsOfInterest","Accordion","AccordionSummary","aria-controls","id","AccordionDetails","size","arrayOfTrails","forEach","trail","push","getArrayOfTrails","map","index","arrayOfPoi","getArrayOfPoi","interestPoint","PreviewZone","premiseZoneId","setZoneId","maps","setMaps","z","getZoneFromObjectModel","_id","arrayOfMaps","getArrayOfMaps","Preview","CompleteModel","setModel","zones","setZones","CircularProgress","arrayOfzones","zone","getArrayOfZones","sendForPreview","excel","a","DatabaseUtils","destroy","err","defaultModel","isSent","Promise","resolve","ImportExcelFile","fetchDataFromExcelFromBrowser","undefined","doneModel","sendForUpdate","sendModelToServer","error","console","log","deleteLocalDB","warn","SendingState","ErrorMessages","UpdateAppMap","visibilityToggle","receivedFile","setFile","displayPreview","setDisplayPreview","fileName","setFileName","aFileWasAdded","setAFileWasAdded","modelRecieved","message","none","sendingState","UNKNOWN","errorMessage","setErrorMessage","sendForPreviewOnClick","file","response","failedToParse","ERROR","cancelUpdateOnClick","failedToDeleteDB","WARNING","sendForUpdateOnClick","succeedToSend","SUCCESS","failedToSend","marginTop","alignItems","accept","required","event","target","value","onChange","files","item","split","pop","notAnExcel","missingFile","small","faFileImport","doc","document","getElementById","click","fontStyle","marginLeft","Alert","severity","large","medium","downloadFile","createElement","body","appendChild","setAttribute","href","window","URL","revokeObjectURL","getLastUpdatedDate","getDateFromAppStatus","LastUsedExcel","lastUpdadedDate","setLastUpdadedDate","faFileDownload","failedToDownload","images","logoSentiersEstrie","require","logoUniversiteSherbrooke","Header","src","default","alt","unstable_createMuiStrictModeTheme","App","isVisible","setIsVisibile","ThemeProvider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","Coordinate","altitude","this","db","PouchDB","getProdDB","options","include_docs","attachments","allDocs","close","rows","s","e","Zone","get","set","zoneName","Error","userMapName","um","interest_id","model_by_ref","key","ref","zone_name","usermap_name","trail_name","trailCoordinates","ipd","interest_point_name","data","jsonObject","toJson","postRequestToServer","JSON","stringify","toSend","isExcel","formdata","destinationUri","FormData","append","requestHeaders","Accept","requestOptions","method","headers","fetch","status","post","InterestType","getInterestType","x","InterestPoint","active","uri","Array","jsonObjectT","indexOf","parking","view","telephone","picnic","camping","refuge","hosting","restroom","unknown","UserMap","map_file","topLeftCoordinate","topRightCoordinate","bottomLeftCoordinate","bottomRightCoordinate","b","length","usermaps","DataType","getDataType","InterestPointData","Trail","point","sentiers","sentierName","csv","xlsx","wb","Workbook","defaultMap","trailID","readFile","worksheets","eachRow","row","rowNumber","zoneString","getCell","toString","has","insertMap","insertUserMapInZoneMaps","trailFile","newTrail","insertTrailInUserMap","MigrateServicesData","MigrateTrailCoordinate","write_success","ReverseEngineerWorkbookProgrammatically","csvFile","concat","Number","c","poiName","insertedType","getTypeFromString","newPOI","filename","separator","parseExcelFile","getWorksheet","cellvalue","ws_UserMap","filepath","tlLong","tlLat","trLong","trLat","blLong","blLat","brLong","brLat","ws_Trail","keyCell","trailDescription","Boolean","ws_coordinateSentier","insertCoordinateInTrail","ws_interestPoints","poiTypeString","poiLong","poiLat","it","ip","insertInterestPointInUserMap","ws_interestPointsData","ipd_type","datatype","ipd_data","insertInterestPointDataInInterestPoint","Excel","arrayBuffer","arrayBuff","toBuffer","buffer","load","book","ab","buf","Buffer","alloc","byteLength","Uint8Array","i","creator","created","Date","key_sheet","addWorksheet","views","state","ySplit","zone_sheet","usermap_sheet","sentier_sheet","coordinateSentier_sheet","interestPoint_sheet","interestPointData_sheet","ExcelModel","FormatModelToExcel","ColumnsModel","MakeColumnsMap","addTableWrapper","getColumn","eachCell","includeEmpty","cell","definedNames","addFormula","dataValidationWrapper","writeFile","sheet","table_name","columns","excel_model","model_key","addTable","headerRow","showRowStripes","makeColumnsPretty","ColumnsMap","filterButton","zoneRows","usermapRows","sentierRows","coordinateSentierRows","interestPointRows","interestPointDataRows","usermap","interest_point","interest_point_data","column","maxLength","columnLength","formula","foreign_key","feuille","dataValidation","allowBlank","showInputMessage","formulae","promptTitle","prompt"],"mappings":"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","file":"static/js/main.05221005.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/logoUniversiteSherbrooke.fd5b9722.png\";","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./Styles.css\";\n\nexport enum MyButtonTypes {\n  small = \"small\",\n  medium = \"medium\",\n  large = \"large\",\n}\n\ntype MyButtonProps = {\n  text: string;\n  type: MyButtonTypes;\n  color: string;\n  hover: string;\n  textColor: string;\n  textColorHover?: string;\n  icon?: any;\n  borderColor: string;\n  onClick: () => void;\n};\n\nexport default function SentiersButton({\n  text,\n  type,\n  color,\n  hover,\n  textColor,\n  textColorHover,\n  icon,\n  borderColor,\n  onClick,\n}: MyButtonProps): JSX.Element {\n  const [isHover, setIsHover] = useState<boolean>(false);\n  const [stateBackground, setBackgroundColor] = useState<string>(color);\n  const [stateColor, setStateColor] = useState<string>(textColor);\n\n  useEffect(() => {\n    if (isHover) {\n      setBackgroundColor(hover);\n      setStateColor(textColorHover!);\n    } else {\n      setBackgroundColor(color);\n      setStateColor(textColor);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isHover]);\n\n  return (\n    <button\n      style={{\n        backgroundColor: stateBackground,\n        color: stateColor,\n        borderColor: borderColor,\n      }}\n      onMouseOver={() => setIsHover(true)}\n      onMouseLeave={() => setIsHover(false)}\n      className={\"button \" + type}\n      onClick={onClick}\n    >\n      {icon && (\n        <FontAwesomeIcon\n          icon={icon}\n          style={{\n            marginRight: 15,\n            color: stateColor,\n          }}\n        />\n      )}\n      {text}\n    </button>\n  );\n}\n","export const colors = {\n  red: \"red\",\n  black: \"black\",\n  white: \"white\",\n  transparent: \"transparent\",\n  preview: \"#4d6d8a\",\n  previewHover: \"#375066\",\n  redBanner: \"#930000\",\n  redBannerHover: \"#800000\",\n  graySentiersEstrie: \"#cccccc\",\n  graySentiersEstrieHover: \"#9c9898\",\n  confirmationButtonColor: \"#149414\",\n  confirmationButtonHover: \"#649568\",\n  cancelButtonColor: \"#ed2939\",\n  cancelButtonHover: \"#cd5c5c\",\n  rowNotColored: \"#F1F1F1\",\n  rowColored: \"#DFDFDF\",\n  accordion: \"#375066\",\n};\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { colors } from \"../../Utils/colors\";\n\nconst useStyles = makeStyles((theme) => ({\n  addInfos: {\n    textAlign: \"center\",\n  },\n  normalText: {\n    fontWeight: \"bold\",\n    padding: \"2%\",\n  },\n  headings: {\n    fontWeight: \"bold\",\n    margin: 0,\n  },\n  title: {\n    display: \"block\",\n    fontSize: \"1.5em\",\n    margin: \"0.83em 0\",\n    fontWeight: \"bold\",\n  },\n  rowNotColored: {\n    backgroundColor: colors.rowNotColored,\n    padding: \"10px\",\n  },\n  rowColored: {\n    backgroundColor: colors.rowColored,\n    padding: \"10px\",\n  },\n  circularProgress: {\n    color: colors.graySentiersEstrieHover,\n    padding: \"5px\",\n  },\n  accordionElement: {\n    width: \"100%\",\n    border: \"2px solid \" + colors.accordion,\n    borderRadius: \"5px\",\n    marginBottom: \"5px\",\n  },\n  contentAligner: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"100%\",\n  },\n  preview: {\n    margin: \"0 8%\",\n  },\n  accordionDoubleElement: {\n    width: \"100%\",\n    borderRadius: \"5px\",\n  },\n  root: {\n    backgroundColor: colors.accordion,\n    color: \"white\",\n  },\n  expandIcon: {\n    color: \"white\",\n  },\n}));\n\nexport { useStyles };\n","import { useEffect, useState } from \"react\";\nimport { CompleteModel } from \"../../models/completemodel\";\nimport { InterestPoint } from \"../../models/interestpointsmodel\";\nimport { Queries } from \"../../models/queries\";\nimport { useStyles } from \"../Preview/Styles\";\n\ntype MyPreviewInterestPointProps = {\n  model: CompleteModel;\n  zoneId: string;\n  mapId: string;\n  interestPointName: string;\n  itemNumber: number;\n};\n\nexport default function PreviewInterestPoint({\n  model,\n  zoneId,\n  mapId,\n  interestPointName,\n  itemNumber,\n}: MyPreviewInterestPointProps): JSX.Element {\n  const [premiseInterestPoint, setInterestPoint] = useState<InterestPoint>();\n  const classes = useStyles();\n\n  // eslint-disable-next-line\n  useEffect(() => {\n    var poi = Queries.getInterestPointsFromObjectModel(\n      model,\n      zoneId,\n      mapId,\n      interestPointName\n    );\n    setInterestPoint(poi);\n  });\n\n  return (\n    <div\n      className={\n        itemNumber % 2 !== 0 ? classes.rowColored : classes.rowNotColored\n      }\n    >\n      <div className=\"poiName\">\n        <b>{premiseInterestPoint?.name} </b>\n      </div>\n      <div className=\"poiCode\">\n        {\" \"}\n        <u>Code</u> : {premiseInterestPoint?.code}\n      </div>\n      <div className=\"poiType\">\n        <u>Type</u> : {premiseInterestPoint?.type}\n      </div>\n      <div className=\"poiType\">\n        <u>Description</u> : {premiseInterestPoint?.description}\n      </div>\n      <div className=\"poiCoordinate\">\n        <div>\n          <u>Longitude</u> : {premiseInterestPoint?.coordinate.longitude}{\" \"}\n        </div>\n        <div>\n          <u>Latitude</u> :{premiseInterestPoint?.coordinate.latitude}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { CompleteModel } from \"../../models/completemodel\";\nimport { Queries } from \"../../models/queries\";\nimport { Trail } from \"../../models/trailmodel\";\nimport { useStyles } from \"../Preview/Styles\";\n\ntype MyPreviewTrailProps = {\n  model: CompleteModel;\n  zoneId: string;\n  mapId: string;\n  trailName: string;\n  itemNumber: number;\n};\n\nexport default function PreviewTrail({\n  model,\n  zoneId,\n  mapId,\n  trailName,\n  itemNumber,\n}: MyPreviewTrailProps): JSX.Element {\n  const [premiseTrail, setTrail] = useState<Trail>();\n  const classes = useStyles();\n\n  // eslint-disable-next-line\n  useEffect(() => {\n    var t = Queries.getTrailFromObjectModel(model, zoneId, mapId, trailName);\n    setTrail(t);\n  });\n\n  return (\n    <div\n      className={\n        itemNumber % 2 !== 0 ? classes.rowColored : classes.rowNotColored\n      }\n    >\n      <div className=\"trailName\">\n        <b> {premiseTrail?.name} </b>\n      </div>\n      <div className={classes.addInfos}>\n        <div className=\"trailDifficulty\">\n          <u>Difficulté</u> : {premiseTrail?.difficulty}\n        </div>\n        <div className=\"trailDescription\">\n          <u>Description</u> : {premiseTrail?.description}\n        </div>\n        <div className=\"trailColor\">\n          <u>Couleur</u> : {premiseTrail?.color}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport React, { useEffect, useState } from \"react\";\nimport { CompleteModel } from \"../../models/completemodel\";\nimport { InterestPoint } from \"../../models/interestpointsmodel\";\nimport { Queries } from \"../../models/queries\";\nimport { Trail } from \"../../models/trailmodel\";\nimport { useStyles } from \"../Preview/Styles\";\nimport PreviewInterestPoint from \"../PreviewInterestPoint/PreviewInterestPoint\";\nimport PreviewTrail from \"../PreviewTrail/PreviewTrail\";\n\ntype MyPreviewMapProps = {\n  model: CompleteModel;\n  zoneId: string;\n  mapId: string;\n};\n\nexport default function PreviewMap({\n  model,\n  zoneId,\n  mapId,\n}: MyPreviewMapProps): JSX.Element {\n  const [premiseMapId, setMapId] = useState<string>(\"\");\n  const [trails, setTrails] = useState<Map<string, Trail>>(\n    new Map<string, Trail>()\n  );\n  const [interestPoints, setIterestPoints] = useState<\n    Map<string, InterestPoint>\n  >(new Map<string, InterestPoint>());\n  const classes = useStyles();\n\n  // eslint-disable-next-line\n  useEffect(() => {\n    var m = Queries.getUserMapFromObjectModel(model, zoneId, mapId);\n    setMapId(m.name);\n    setTrails(m.trails);\n    setIterestPoints(m.pointsOfInterest);\n  });\n\n  function getArrayOfTrails() {\n    const arrayOfTrails: Trail[] = [];\n    trails.forEach((trail) => arrayOfTrails.push(trail));\n    return arrayOfTrails;\n  }\n\n  function getArrayOfPoi() {\n    const arrayOfPoi: InterestPoint[] = [];\n    interestPoints.forEach((poi) => arrayOfPoi.push(poi));\n    return arrayOfPoi;\n  }\n\n  return (\n    <div className={classes.accordionElement}>\n      <Accordion>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon className={classes.expandIcon} />}\n          aria-controls=\"panel1a-content\"\n          id={premiseMapId}\n          className={classes.root}\n        >\n          <p className={classes.headings}> Carte : {premiseMapId} </p>\n        </AccordionSummary>\n        <AccordionDetails>\n          <div className={classes.accordionDoubleElement}>\n            <div className={classes.accordionElement}>\n              <div>\n                <Accordion>\n                  <AccordionSummary\n                    expandIcon={\n                      <ExpandMoreIcon className={classes.expandIcon} />\n                    }\n                    aria-controls=\"panel1a-content\"\n                    className={classes.root}\n                  >\n                    <p className={classes.headings}> Sentiers </p>\n                  </AccordionSummary>\n                  {trails.size === 0 ? (\n                    <p className={classes.normalText}>\n                      Vous avez créé une carte sans lui associer de sentier(s)\n                    </p>\n                  ) : (\n                    <AccordionDetails>\n                      <div className={classes.contentAligner}>\n                        {getArrayOfTrails().map((trail: Trail, index) => (\n                          <PreviewTrail\n                            key={trail.name}\n                            model={model}\n                            zoneId={zoneId}\n                            mapId={premiseMapId}\n                            trailName={trail.name}\n                            itemNumber={index}\n                          />\n                        ))}\n                      </div>\n                    </AccordionDetails>\n                  )}\n                </Accordion>\n              </div>\n            </div>\n            <div className={classes.accordionElement}>\n              <div>\n                <Accordion>\n                  <AccordionSummary\n                    expandIcon={\n                      <ExpandMoreIcon className={classes.expandIcon} />\n                    }\n                    aria-controls=\"panel1a-content\"\n                    className={classes.root}\n                  >\n                    <p className={classes.headings}> Points d'intérêt </p>\n                  </AccordionSummary>\n                  {interestPoints.size === 0 ? (\n                    <p className={classes.normalText}>\n                      Vous avez créé une carte sans lui associer de point(s)\n                      d'intérêt\n                    </p>\n                  ) : (\n                    <AccordionDetails>\n                      <div className={classes.contentAligner}>\n                        {getArrayOfPoi().map(\n                          (interestPoint: InterestPoint, index) => (\n                            <PreviewInterestPoint\n                              key={interestPoint.name}\n                              model={model}\n                              zoneId={zoneId}\n                              mapId={premiseMapId}\n                              interestPointName={interestPoint.name}\n                              itemNumber={index}\n                            />\n                          )\n                        )}\n                      </div>\n                    </AccordionDetails>\n                  )}\n                </Accordion>\n              </div>\n            </div>\n          </div>\n        </AccordionDetails>\n      </Accordion>\n    </div>\n  );\n}\n","import Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport React, { useEffect, useState } from \"react\";\nimport { CompleteModel } from \"../../models/completemodel\";\nimport { Queries } from \"../../models/queries\";\nimport { UserMap } from \"../../models/usermapmodel\";\nimport { useStyles } from \"../Preview/Styles\";\nimport PreviewMap from \"../PreviewMap/PreviewMap\";\n\ntype MyPreviewZoneProps = {\n  model: CompleteModel;\n  zoneId: string;\n};\n\nexport default function PreviewZone({\n  model,\n  zoneId,\n}: MyPreviewZoneProps): JSX.Element {\n  const [premiseZoneId, setZoneId] = useState<string>(\"\");\n  const [maps, setMaps] = useState<Map<string, UserMap>>(\n    new Map<string, UserMap>()\n  );\n  const classes = useStyles();\n\n  // eslint-disable-next-line\n  useEffect(() => {\n    var z = Queries.getZoneFromObjectModel(model, zoneId);\n    setZoneId(z._id);\n    setMaps(z.maps);\n  });\n\n  function getArrayOfMaps() {\n    const arrayOfMaps: UserMap[] = [];\n    maps.forEach((map) => arrayOfMaps.push(map));\n    return arrayOfMaps;\n  }\n\n  return (\n    <div className={classes.accordionElement}>\n      <Accordion>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon className={classes.expandIcon} />}\n          aria-controls=\"panel1a-content\"\n          id={premiseZoneId}\n          className={classes.root}\n        >\n          <p className={classes.headings}> Zone : {premiseZoneId} </p>\n        </AccordionSummary>\n        {maps.size === 0 ? (\n          <p className={classes.normalText}>\n            Vous avez créé une zone sans lui associer de carte(s)\n          </p>\n        ) : (\n          <AccordionDetails>\n            <div className={classes.contentAligner}>\n              {\n                /*maps &&*/\n                getArrayOfMaps().map((map: UserMap) => (\n                  <PreviewMap\n                    key={map.name}\n                    model={model}\n                    zoneId={premiseZoneId}\n                    mapId={map.name}\n                  />\n                ))\n              }\n            </div>\n          </AccordionDetails>\n        )}\n      </Accordion>\n    </div>\n  );\n}\n","import Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport React, { useEffect, useState } from \"react\";\nimport { CompleteModel } from \"../../models/completemodel\";\nimport PreviewZone from \"../PreviewZone/PreviewZone\";\nimport { Zone } from \"./../../models/zonemodel\";\nimport { useStyles } from \"./Styles\";\n\ntype MyProps = {\n  m: CompleteModel;\n};\nexport default function Preview({ m }: MyProps): JSX.Element {\n  const [model, setModel] = useState<CompleteModel>(new CompleteModel());\n  const [zones, setZones] = useState<Map<string, Zone>>(\n    new Map<string, Zone>()\n  ); // quoi l'equivalent de []\n  const classes = useStyles();\n\n  useEffect(() => {\n    setModel(m);\n    setZones(m.zones);\n    // eslint-disable-next-line\n  }, []);\n\n  function getArrayOfZones() {\n    const arrayOfzones: Zone[] = [];\n    zones.forEach((zone) => arrayOfzones.push(zone));\n    return arrayOfzones;\n  }\n\n  return (\n    <div className={classes.preview}>\n      <p className={classes.title}> Aperçu des données </p>\n      <div className={classes.accordionElement}>\n        <Accordion>\n          <AccordionSummary\n            expandIcon={<ExpandMoreIcon className={classes.expandIcon} />}\n            aria-controls=\"panel1a-content\"\n            id=\"accordionSummary\"\n            className={classes.root}\n          >\n            <p className={classes.headings}> Zones </p>\n          </AccordionSummary>\n          {zones.size === 0 ? (\n            <CircularProgress className={classes.circularProgress} />\n          ) : (\n            <AccordionDetails>\n              <div className={classes.contentAligner}>\n                {\n                  // boucle for each sur les zones dans l'objet\n                  getArrayOfZones().map((zone: Zone) => (\n                    <PreviewZone\n                      key={zone._id}\n                      model={model}\n                      zoneId={zone._id}\n                    />\n                  ))\n                }\n              </div>\n            </AccordionDetails>\n          )}\n        </Accordion>\n      </div>\n    </div>\n  );\n}\n","import { CompleteModel } from \"../models/completemodel\";\nimport { DatabaseUtils } from \"../Utils/DatabaseUtils\";\nimport { ImportExcelFile } from \"../Utils/ImportExcelFile\";\n\n// Fonction pour avoir un preview du contenu que l'utilisateur veut ajuster sur l'application\n/**\n * Méthode pour exporter le dernier Excel utilisé pour mettre à jour l'aplication.\n *\n * @param excel Le fichier excel à parser.\n * @returns {boolean, CompleteModel} vrai si les informations ont reussi à être parsées ainsi que le model resultant.\n */\nexport default async function sendForPreview(excel: File) {\n  var err = await DatabaseUtils.destroy();\n  var defaultModel = new CompleteModel();\n  if (err === null) {\n    if (excel.name === \"\") {\n      return {\n        isSent: Promise.resolve(false),\n        model: Promise.resolve(defaultModel),\n      };\n    }\n    var doneModel = await ImportExcelFile.fetchDataFromExcelFromBrowser(excel);\n    if (\n      doneModel === undefined ||\n      doneModel.zones === undefined ||\n      doneModel.zones.size === 0\n    ) {\n      return {\n        isSent: Promise.resolve(false),\n        model: Promise.resolve(defaultModel),\n      };\n    }\n    return { isSent: Promise.resolve(true), model: Promise.resolve(doneModel) };\n  }\n  return {\n    isSent: Promise.resolve(false),\n    model: Promise.resolve(defaultModel),\n  };\n}\n","import { CompleteModel } from \"../models/completemodel\";\nimport { DatabaseUtils } from \"../Utils/DatabaseUtils\";\n\n/**\n * Méthode pour confirmer la mise à jour de l'application selon le preview.\n *\n * @param excel Le fichier excel à envoyer sur le serveur..\n * @param model Le model à envoyer sur le serveur.\n * @returns vrai si les informations ont été envoyées au serveur.\n */\nexport async function sendForUpdate(\n  excel: File,\n  model: CompleteModel\n): Promise<boolean> {\n  var error = await DatabaseUtils.sendModelToServer(excel, model);\n  if (error === null) {\n    return Promise.resolve(true);\n  } else {\n    console.log(\"Erreur lors de l'envoi sur le serveur. \" + error);\n    return Promise.resolve(false);\n  }\n}\n\n/**\n * Méthode pour pour detruire la bd, annuler.\n *\n * @returns vrai si les informations ont été supprimées.\n */\nexport async function deleteLocalDB(): Promise<boolean> {\n  var error = await DatabaseUtils.destroy();\n  if (error === null) {\n    return Promise.resolve(true);\n  }\n  console.warn(\" Erreur lors de la destruction de la BD: \" + error);\n  return Promise.resolve(false);\n}\n","import { faFileImport } from \"@fortawesome/free-solid-svg-icons\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport React, { useState } from \"react\";\nimport SentiersButton, {\n  MyButtonTypes,\n} from \"../DesktopComponents/Button/SentiersButton\";\nimport Preview from \"../DesktopComponents/Preview/Preview\";\nimport sendForPreview from \"../DesktopViews/PreviewView\";\nimport { deleteLocalDB, sendForUpdate } from \"../DesktopViews/UpdateView\";\nimport { CompleteModel } from \"../models/completemodel\";\nimport { colors } from \"../Utils/colors\";\nimport \"./Styles.css\";\n\nexport enum SendingState {\n  ERROR = \"error\",\n  SUCCESS = \"success\",\n  UNKNOWN = \"unsend\",\n  WARNING = \"warning\",\n}\n\nexport enum ErrorMessages {\n  failedToSend = \" Une erreur est survenue lors de la mise à jour du contenu de l'application. \",\n  none = \"\",\n  succeedToSend = \" L'application a été mise à jour! \",\n  notAnExcel = \" Vous n'avez pas selectionné un fichier .xlsx! \",\n  failedToParse = \" Veuillez entrer un excel adapté à l'application. \",\n  failedToDeleteDB = \" Une erreur est survenue lors de la cancelation. \",\n  missingFile = \"Veuillez sélectionner un fichier. \",\n  failedToDownload = \" Une erreur est survenue lors du téléchargement du fichier. \",\n  succeedToDownload = \" Le fichier a été téléchargé! \",\n}\n\ntype Props = {\n  visibilityToggle: (isVisible: boolean) => void;\n};\n\n// Fonction principale\nexport default function UpdateAppMap({ visibilityToggle }: Props): JSX.Element {\n  const [receivedFile, setFile] = useState<File>();\n  const [displayPreview, setDisplayPreview] = useState<boolean>(false);\n  const [fileName, setFileName] = useState<string>(\"\");\n  const [aFileWasAdded, setAFileWasAdded] = useState<boolean>(false);\n  const [modelRecieved, setModel] = useState<CompleteModel>(\n    new CompleteModel()\n  );\n\n  const [errorMessage, setErrorMessage] = useState<{\n    message: ErrorMessages;\n    sendingState: SendingState;\n  }>({\n    message: ErrorMessages.none,\n    sendingState: SendingState.UNKNOWN,\n  });\n\n  function resetInput(event: any) {\n    event.target.value = \"\";\n  }\n\n  // vérifier que l'utilisateur a bien selectioné un fichier excel\n  function HandleFileInput(event: React.ChangeEvent<HTMLInputElement>): void {\n    const file = event.target.files?.item(0);\n    setDisplayPreview(false);\n    visibilityToggle(true);\n    setErrorMessage({\n      message: ErrorMessages.none,\n      sendingState: SendingState.UNKNOWN,\n    });\n    if (file !== undefined) {\n      if (file!.name.split(\".\").pop() === \"xlsx\") {\n        setAFileWasAdded(true);\n        setFile(file!);\n        setFileName(file!.name);\n      } else {\n        // Erreur de fichier, ce n'est pas un Excel\n        setErrorMessage({\n          message: ErrorMessages.notAnExcel,\n          sendingState: SendingState.ERROR,\n        });\n      }\n    } else {\n      // Erreur de fichier, ce n'est pas un Excel\n      setErrorMessage({\n        message: ErrorMessages.missingFile,\n        sendingState: SendingState.ERROR,\n      });\n    }\n  }\n\n  async function sendForPreviewOnClick(file: File) {\n    var response = await sendForPreview(file!);\n    var isSent = await response.isSent;\n    setModel(await response.model);\n    setDisplayPreview(isSent);\n    visibilityToggle(!isSent);\n    if (!isSent) {\n      setErrorMessage({\n        message: ErrorMessages.failedToParse,\n        sendingState: SendingState.ERROR,\n      });\n    }\n  }\n\n  async function cancelUpdateOnClick() {\n    setErrorMessage({\n      message: ErrorMessages.none,\n      sendingState: SendingState.UNKNOWN,\n    });\n    setDisplayPreview(false);\n    visibilityToggle(true);\n    setFileName(\"\");\n    setFile(undefined);\n    setAFileWasAdded(false);\n    const statusDelete: boolean = await deleteLocalDB();\n    if (!statusDelete) {\n      setErrorMessage({\n        message: ErrorMessages.failedToDeleteDB,\n        sendingState: SendingState.WARNING,\n      });\n    }\n  }\n\n  async function sendForUpdateOnClick(file: File, model: CompleteModel) {\n    const statusSend: boolean = await sendForUpdate(file!, model);\n    if (statusSend) {\n      setErrorMessage({\n        message: ErrorMessages.succeedToSend,\n        sendingState: SendingState.SUCCESS,\n      });\n      setFileName(\"\");\n      setFile(undefined);\n      setDisplayPreview(false);\n      visibilityToggle(true);\n      setAFileWasAdded(false);\n    } else {\n      setErrorMessage({\n        message: ErrorMessages.failedToSend,\n        sendingState: SendingState.ERROR,\n      });\n    }\n  }\n\n  return (\n    <div className=\"updateAppMap\">\n      <h2>Mettre à jour l'application mobile</h2>\n      <div className=\"form\">\n        <div className=\"infoForPreview\">\n          <div className=\"fileInputSection\">\n            <p style={{ marginTop: \"0px\" }}>\n              Veuillez sélectionner un fichier Excel\n            </p>\n            <div style={{ display: \"flex\", alignItems: \"center\" }}>\n              <div className=\"importFileButton\">\n                <input\n                  type=\"file\"\n                  id=\"selectedFile\"\n                  style={{ display: \"none\" }}\n                  accept=\".xlsx\"\n                  required\n                  onClick={resetInput}\n                  onChange={HandleFileInput}\n                />\n                <SentiersButton\n                  type={MyButtonTypes.small}\n                  color={colors.graySentiersEstrie}\n                  hover={colors.graySentiersEstrieHover}\n                  text={\"Importer un fichier\"}\n                  textColor={colors.black}\n                  textColorHover={colors.white}\n                  borderColor={colors.graySentiersEstrie}\n                  icon={faFileImport}\n                  onClick={() => {\n                    var doc = document.getElementById(\"selectedFile\");\n                    if (doc) {\n                      doc.click();\n                    }\n                  }}\n                />\n                {receivedFile?.name && (\n                  <p\n                    style={{\n                      fontSize: 11,\n                      fontStyle: \"italic\",\n                      marginLeft: \"1em\",\n                    }}\n                  >\n                    {fileName}\n                  </p>\n                )}\n              </div>\n            </div>\n            {errorMessage.sendingState !== SendingState.UNKNOWN && (\n              <div>\n                <Alert\n                  severity={errorMessage.sendingState}\n                  style={{ marginTop: \"10px\" }}\n                >\n                  {errorMessage.message}\n                </Alert>\n              </div>\n            )}\n          </div>\n          {/*afficher le bouton de previsualistion si un nouveau fichier de type excel est entré */}\n          {aFileWasAdded && !displayPreview && (\n            <div className=\"previewSection\">\n              <p>\n                Afin de mettre à jour l’application, assurez-vous de\n                prévisualiser le contenu et le confirmer\n              </p>\n              <div className=\"previewButton\">\n                <SentiersButton\n                  color={colors.redBanner}\n                  hover={colors.redBannerHover}\n                  textColorHover={colors.white}\n                  type={MyButtonTypes.large}\n                  text={\"Prévisualiser\"}\n                  textColor={colors.white}\n                  borderColor={colors.redBannerHover}\n                  onClick={async () => {\n                    await sendForPreviewOnClick(receivedFile!);\n                  }}\n                />\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n      {displayPreview && (\n        <div className=\"infoForUpdate\">\n          <div className=\"UpdateButtons\">\n            <div className=\"cancelButton\">\n              <SentiersButton\n                color={colors.transparent}\n                hover={colors.red}\n                type={MyButtonTypes.medium}\n                text={\"Annuler\"}\n                textColor={colors.red}\n                textColorHover={colors.white}\n                borderColor={colors.red}\n                onClick={async () => {\n                  await cancelUpdateOnClick();\n                }}\n              />\n            </div>\n            <div className=\"confirmButton\">\n              <SentiersButton\n                color={colors.confirmationButtonColor}\n                hover={colors.confirmationButtonHover}\n                type={MyButtonTypes.medium}\n                text={\"Confirmer\"}\n                textColor={colors.white}\n                textColorHover={colors.white}\n                borderColor={colors.confirmationButtonColor}\n                onClick={async () => {\n                  await sendForUpdateOnClick(receivedFile!, modelRecieved);\n                }}\n              />\n            </div>\n          </div>\n          <Preview key=\"preview\" m={modelRecieved} />\n        </div>\n      )}\n    </div>\n  );\n}\n","import { DatabaseUtils } from \"../Utils/DatabaseUtils\";\n\n/**\n *\n * Méthode pour télécharger le dernier Excel utilisé pour mettre à jour l'aplication.\n */\nexport async function downloadFile() {\n  try {\n    var a = document.createElement(\"a\");\n    document.body.appendChild(a);\n    a.setAttribute(\"style\", \"display: none;\");\n    a.href = \"http://sentiersest.web810.discountasp.net/downloadFile\";\n    a.click();\n    window.URL.revokeObjectURL(\n      \"http://sentiersest.web810.discountasp.net/downloadFile\"\n    );\n    return true;\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n}\n\n/**\n * Méthode pour avoir la date du dernier update.\n */\nexport async function getLastUpdatedDate() {\n  return await DatabaseUtils.getDateFromAppStatus();\n}\n","import { faFileDownload } from \"@fortawesome/free-solid-svg-icons\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { useEffect, useState } from \"react\";\nimport {\n  ErrorMessages,\n  SendingState,\n} from \"../../DesktopControllers/UpdateAppMap\";\nimport {\n  downloadFile,\n  getLastUpdatedDate,\n} from \"../../DesktopViews/DownloadLastFile\";\nimport { colors } from \"../../Utils/colors\";\nimport SentiersButton, { MyButtonTypes } from \"../Button/SentiersButton\";\nimport \"./Styles.css\";\n\nexport default function LastUsedExcel(): JSX.Element {\n  const [lastUpdadedDate, setLastUpdadedDate] = useState<string>(\"\");\n  const [errorMessage, setErrorMessage] = useState<{\n    message: ErrorMessages;\n    sendingState: SendingState;\n  }>({\n    message: ErrorMessages.none,\n    sendingState: SendingState.UNKNOWN,\n  });\n\n  useEffect(() => {\n    (async () => {\n      setLastUpdadedDate(await getLastUpdatedDate());\n    })();\n  }, []);\n\n  return (\n    <div\n      className=\"lastUsedExcel\"\n      style={{ backgroundColor: colors.graySentiersEstrie }}\n    >\n      <h2> Dernière mise à jour de l'application </h2>\n      <p> {lastUpdadedDate} </p>\n      <div className=\"contentSection\" style={{ borderColor: colors.redBanner }}>\n        <div className=\"getFileSection\">\n          <p style={{ marginTop: \"0px\" }}>\n            Cliquez ici pour récuperer la dernière version de Excel qui a mis à\n            jour l'application mobile\n          </p>\n          <div className=\"buttonToDownloadFile\">\n            <SentiersButton\n              color={colors.redBanner}\n              hover={colors.redBannerHover}\n              textColorHover={colors.white}\n              type={MyButtonTypes.small}\n              text={\"Télécharger\"}\n              textColor={colors.white}\n              borderColor={colors.redBannerHover}\n              icon={faFileDownload}\n              onClick={async () => {\n                var isSent = await downloadFile();\n                if (!isSent) {\n                  setErrorMessage({\n                    message: ErrorMessages.failedToDownload,\n                    sendingState: SendingState.ERROR,\n                  });\n                }\n              }}\n            />\n          </div>\n          {errorMessage.sendingState !== SendingState.UNKNOWN && (\n            <div className=\"errorMessage\">\n              <Alert\n                severity={errorMessage.sendingState}\n                style={{ marginTop: \"10px\" }}\n              >\n                {errorMessage.message}\n              </Alert>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","export const images = {\n  logoSentiersEstrie: require(\"./logoSentiersEstrie.png\"),\n  logoUniversiteSherbrooke: require(\"./logoUniversiteSherbrooke.png\"),\n};\n","import { images } from \"../Assets/sentiersImages\";\nimport { colors } from \"./colors\";\nimport \"./Styles.css\";\n\nexport default function Header(): JSX.Element {\n  return (\n    <div className=\"topBanner\" style={{ backgroundColor: colors.redBanner }}>\n      <div className=\"column\">\n        <img src={images.logoSentiersEstrie.default} alt=\"logoSentiersEstrie\" />\n      </div>\n    </div>\n  );\n}\n","import {\n  ThemeProvider,\n  unstable_createMuiStrictModeTheme,\n} from \"@material-ui/core/styles\";\nimport React, { useState } from \"react\";\nimport \"./App.css\";\nimport LastUsedExcel from \"./DesktopComponents/LastUsedExcel/LastUsedExcel\";\nimport UpdateAppMap from \"./DesktopControllers/UpdateAppMap\";\nimport Header from \"./Utils/HeaderSentier\";\nconst theme = unstable_createMuiStrictModeTheme();\n\nfunction App(): JSX.Element {\n  const [isVisible, setIsVisibile] = useState<boolean>(true);\n\n  return (\n    <div className=\"App\">\n      <ThemeProvider theme={theme}>\n        <Header />\n        <UpdateAppMap visibilityToggle={setIsVisibile} />\n        {isVisible && <LastUsedExcel />}\n      </ThemeProvider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","/**\n * Structure de donnée pour une coordonnée\n */\nexport class Coordinate {\n    longitude: number | undefined;\n    latitude: number | undefined;\n    altitude: number | undefined;\n\n    constructor(longitude: number | undefined, latitude:number | undefined, altitude:number | undefined = undefined) {\n      this.longitude = longitude;\n      this.latitude = latitude;\n      this.altitude = altitude;\n    }\n}","import PouchDB from \"pouchdb\";\nimport { DatabaseUtils } from \"../Utils/DatabaseUtils\";\nimport { CompleteModel } from \"./completemodel\";\nimport { Coordinate } from \"./coordinatemodel\";\nimport { InterestPointData } from \"./interestpointdatamodel\";\nimport { InterestPoint } from \"./interestpointsmodel\";\nimport { Trail } from \"./trailmodel\";\nimport { UserMap } from \"./usermapmodel\";\nimport { Zone } from \"./zonemodel\";\n\n/**\n * Classe pour écrire des requêtes noSQL\n */\nexport class Queries {\n  /**\n   * @DEPRECATED\n   * Rempli un objet CompleteModel vide à partir des documents noSQL.\n   *\n   * @param model Une instance vide de CompleteModel.\n   */\n  static async getAllDocumentsAsObjects(): Promise<CompleteModel> {\n    var model = new CompleteModel();\n\n    var db = new PouchDB(DatabaseUtils.getProdDB());\n\n    var options = {\n      include_docs: true,\n      attachments: true,\n    };\n\n    var doc = null;\n    try {\n      doc = await db.allDocs(options);\n    } catch (err) {\n      console.log(err);\n    } finally {\n      await db.close();\n    }\n\n    for (let e of doc!.rows) {\n      var z = await Zone.get(e.doc!._id);\n      model.zones.set(z._id, z);\n    }\n\n    return model;\n  }\n\n  /**\n   * Retourne un objet Zone à partir du modèle objet complet.\n   *\n   * @param model Le modèle de donnée complet en objet.\n   * @param zoneName L'ID de la zone que l'on veut obtenir.\n   * @returns un objet Zone.\n   */\n  static getZoneFromObjectModel(model: CompleteModel, zoneName: string) {\n    let z = model.zones.get(zoneName);\n    if (z === undefined) {\n      throw new Error(\"zone inexistant: \" + zoneName);\n    }\n    return z;\n  }\n\n  /**\n   * Retourne un objet UserMap à partir d'un objet CompleteModel.\n   *\n   * @param model Le modèle de donnée complet en objet.\n   * @param zoneName L'ID de la zone contenant le UserMap.\n   * @param userMapName L'ID de la carte contenannt le UserMap.\n   * @returns un objet UserMap.\n   */\n  static getUserMapFromObjectModel(\n    model: CompleteModel,\n    zoneName: string,\n    userMapName: string\n  ) {\n    let z = model.zones.get(zoneName);\n    if (z === undefined) {\n      throw new Error(\"zone inexistante: \" + zoneName);\n    }\n\n    let um = z.maps.get(userMapName);\n    if (um === undefined) {\n      throw new Error(\"carte inexistante: \" + userMapName);\n    }\n\n    return um;\n  }\n\n  /**\n   * Retourne un objet Sentier à partir d'un objet CompleteModel.\n   *\n   * @param model Le modèle de donnée complet en objet.\n   * @param zoneName L'ID de la zone contenant le sentier.\n   * @param userMapName L'ID de la carte contenant le sentier.\n   * @param sentierName L'ID du sentier que l'on veut obtenir.\n   * @returns un objet Sentier.\n   */\n  static getTrailFromObjectModel(\n    model: CompleteModel,\n    zoneName: string,\n    userMapName: string,\n    trailName: string\n  ) {\n    let z = model.zones.get(zoneName);\n    if (z === undefined) throw new Error(\"zone inexistante: \" + zoneName);\n\n    let um = z.maps.get(userMapName);\n    if (um === undefined) throw new Error(\"carte inexistante: \" + userMapName);\n\n    let t = um.trails.get(trailName);\n    if (t === undefined) throw new Error(\"sentier inexistant: \" + trailName);\n    return t;\n  }\n\n  /**\n   * Retourne un objet InterestPoint à partir d'un objet CompleteModel.\n   *\n   * @param model Le modèle de donnée complet en objet.\n   * @param zoneName L'ID de la zone contenant le point d'interet.\n   * @param userMapName L'ID de la carte contenant le point d'interet.\n   * @param interest_id L'ID du point d'interet que l'on veut.\n   * @returns un objet InterestPoint.\n   */\n  static getInterestPointsFromObjectModel(\n    model: CompleteModel,\n    zoneName: string,\n    userMapName: string,\n    interest_id: string\n  ) {\n    let z = model.zones.get(zoneName);\n    if (z === undefined) throw new Error(\"zone inexistante: \" + zoneName);\n\n    let um = z.maps.get(userMapName);\n    if (um === undefined) throw new Error(\"carte inexistante: \" + userMapName);\n\n    let poi = um.pointsOfInterest.get(interest_id);\n    if (poi === undefined)\n      throw new Error(\"point d'interet inexistant: \" + interest_id);\n    return poi;\n  }\n\n  /**\n   * Insère un objet UserMap à partir d'un objet CompleteModel.\n   *\n   * @param model_by_ref Le modèle de donnée complet en objet, passé par référence.\n   * @param value L'objet UserMap que l'on veut insérer dans le modèle.\n   * @param key Les clés étrangères qui définissent un UserMap.\n   */\n  static insertUserMapInZoneMaps(\n    model_by_ref: { ref: CompleteModel },\n    value: UserMap,\n    key: { zone_name: string }\n  ) {\n    let z = model_by_ref.ref.zones.get(key.zone_name);\n    if (z === undefined) throw new Error(\"zone inexistante: \" + key.zone_name);\n\n    z.maps.set(value.name, value);\n  }\n\n  /**\n   * Insère un objet Trail à partir d'un objet CompleteModel.\n   *\n   * @param model_by_ref Le modèle de donnée complet en objet, passé par référence.\n   * @param value L'objet Sentier que l'on veut insérer dans le modèle.\n   * @param key Les clés étrangères qui définissent un Sentier.\n   */\n  static insertTrailInUserMap(\n    model_by_ref: { ref: CompleteModel },\n    value: Trail,\n    key: { zone_name: string; usermap_name: string }\n  ) {\n    let z = model_by_ref.ref.zones.get(key.zone_name);\n    if (z === undefined) throw new Error(\"zone inexistante: \" + key.zone_name);\n\n    let um = z.maps.get(key.usermap_name);\n    if (um === undefined)\n      throw new Error(\"carte inexistante: \" + key.usermap_name);\n\n    um.trails.set(value.name, value);\n  }\n\n  /**\n   * Insère un objet Coordinate à partir d'un objet CompleteModel.\n   *\n   * @param model_by_ref Le modèle de donnée complet en objet, passé par référence.\n   * @param value L'objet Coordinate que l'on veut insérer dans le modèle.\n   * @param key Les clés étrangères qui définissent un Coordinate.\n   */\n  static insertCoordinateInTrail(\n    model_by_ref: { ref: CompleteModel },\n    value: Coordinate,\n    key: { usermap_name: string; zone_name: string; trail_name: string }\n  ) {\n    let z = model_by_ref.ref.zones.get(key.zone_name);\n    if (z === undefined) throw new Error(\"zone inexistante: \" + key.zone_name);\n\n    let um = z.maps.get(key.usermap_name);\n    if (um === undefined)\n      throw new Error(\"carte inexistante: \" + key.usermap_name);\n\n    let t = um.trails.get(key.trail_name);\n    if (t === undefined)\n      throw new Error(\"sentier inexistant: \" + key.usermap_name);\n\n    t.trailCoordinates.push(value);\n  }\n\n  /**\n   * Insère un objet InterestPoint à partir d'un objet CompleteModel.\n   *\n   * @param model_by_ref Le modèle de donnée complet en objet, passé par référence.\n   * @param value L'objet InterestPoint que l'on veut insérer dans le modèle.\n   * @param key Les clés étrangères qui définissent un InterestPoint.\n   */\n  static insertInterestPointInUserMap(\n    model_by_ref: { ref: CompleteModel },\n    poi: InterestPoint,\n    key: { usermap_name: string; zone_name: string }\n  ) {\n    let z = model_by_ref.ref.zones.get(key.zone_name);\n    if (z === undefined) throw new Error(\"zone inexistante: \" + key.zone_name);\n\n    let um = z.maps.get(key.usermap_name);\n    if (um === undefined)\n      throw new Error(\"carte inexistante: \" + key.usermap_name);\n\n    um.pointsOfInterest.set(poi.name, poi);\n  }\n\n  /**\n   * Insère un objet Sentier à partir d'un objet CompleteModel.\n   *\n   * @param model_by_ref Le modèle de donnée complet en objet, passé par référence.\n   * @param value L'objet InterestPointData que l'on veut insérer dans le modèle.\n   * @param key Les clés étrangères qui définissent un InterestPointData.\n   */\n  static insertInterestPointDataInInterestPoint(\n    model_by_ref: { ref: CompleteModel },\n    ipd: InterestPointData,\n    key: {\n      usermap_name: string;\n      zone_name: string;\n      interest_point_name: string;\n    }\n  ) {\n    let z = model_by_ref.ref.zones.get(key.zone_name);\n    if (z === undefined) throw new Error(\"zone inexistante: \" + key.zone_name);\n\n    let um = z.maps.get(key.usermap_name);\n    if (um === undefined)\n      throw new Error(\"carte inexistante: \" + key.usermap_name);\n\n    let poi = um.pointsOfInterest.get(key.interest_point_name);\n    if (poi === undefined)\n      throw new Error(\"point d'interet inexistant: \" + key.interest_point_name);\n\n    poi.data.push(ipd);\n  }\n}\n","import { Zone } from \"./zonemodel\";\n\n/**\n * Contient l'ensemble du modèle de données dans un objet typescript\n */\nexport class CompleteModel {\n  zones: Map<string, Zone>;\n\n  constructor() {\n    this.zones = new Map<string, Zone>();\n  }\n\n  toJson() {\n    let jsonObject: any = {};\n    let a: any[] = [];\n    this.zones.forEach((value: Zone) => {\n      a.push(value.toJson());\n    });\n    jsonObject[\"zones\"] = a;\n    return jsonObject;\n  }\n}","import PouchDB from \"pouchdb\";\nimport { CompleteModel } from \"../models/completemodel\";\n\nexport class DatabaseUtils {\n  /**\n   * Retourne le nom à utiliser pour instancier une base de données. Doit être un nom sans slash '/': sur Windows\n   * PouchDB peut-être instancié à n'importe quel endroit dans le projet mais le constructeur utilisant un \"path\"\n   * échoue sur Linux. Par soucis d'uniformité nous n'utiliserons pas de \"path\" dans le constructeur de la DB.\n   */\n  public static getProdDB() {\n    return \"db_prod\";\n  }\n  public static getIntegrationTestDB() {\n    return \"db_integrationtest\";\n  }\n\n  /** Va chercher tous les json ainsi que toutes les classes imbriquées du fichier NoSQL et l'affiche à l'écran */\n  static async getAllDocuments() {\n    var db = new PouchDB(DatabaseUtils.getProdDB());\n\n    var options = {\n      include_docs: true,\n      attachments: true,\n    };\n\n    var doc;\n    try {\n      doc = await db.allDocs(options);\n    } catch (err) {\n      console.log(err);\n    } finally {\n      await db.close();\n    }\n\n    return doc;\n  }\n\n  /** Détruit la BD prod */\n  static async destroy() {\n    var db = new PouchDB(DatabaseUtils.getProdDB());\n\n    var e = null;\n    try {\n      await db.destroy();\n    } catch (err) {\n      e = err;\n    }\n\n    return e;\n  }\n\n  /** Envoie le model et le excel servant à mettre à jour sur le serveur */\n  static async sendModelToServer(excel: File, model: CompleteModel) {\n    var e = null;\n    try {\n      console.log(model.toJson());\n      // envoyer le json\n      var response = await DatabaseUtils.postRequestToServer(\n        JSON.stringify(model.toJson()),\n        false\n      );\n      if (response === 200) {\n        // envoyer le excel\n        response = await DatabaseUtils.postRequestToServer(excel, true);\n        if (response === 200) {\n          return e;\n        }\n      }\n      return \" Le statut de la réponse HTTP éronée est : \" + response;\n    } catch (err) {\n      e = err;\n      console.log(e);\n    }\n\n    return e;\n  }\n\n  /** Requete POST pour envoyer les informations au serveur */\n  static async postRequestToServer(toSend: any, isExcel: boolean) {\n    var formdata = toSend;\n    var requestHeaders;\n\n    var destinationUri =\n      \"http://sentiersest.web810.discountasp.net/updateAppContent\";\n\n    if (isExcel) {\n      formdata = new FormData();\n      formdata.append(\"spreadsheet\", toSend);\n      destinationUri = \"http://sentiersest.web810.discountasp.net/uploadFile\";\n      requestHeaders = {\n        Accept: \"*/*\",\n      };\n    } else {\n      requestHeaders = {\n        \"Content-Type\": \"application/json\",\n      };\n    }\n\n    var requestOptions: RequestInit = {\n      method: \"POST\",\n      headers: requestHeaders,\n      body: formdata,\n    };\n    try {\n      console.log(formdata);\n      var response = await fetch(destinationUri, requestOptions);\n      return response.status;\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  static async getDateFromAppStatus() {\n    try {\n      var requestOptions = {\n        method: \"GET\",\n      };\n      var response = await fetch(\n        \"http://sentiersest.web810.discountasp.net/getStatus\",\n        requestOptions\n      );\n      return response.text();\n    } catch (error) {\n      throw error;\n    }\n  }\n}\n","import PouchDB from \"pouchdb\";\nimport { DatabaseUtils } from \"../Utils/DatabaseUtils\";\nimport { UserMap } from \"./usermapmodel\";\n\n/**\n * Modèle de donnée pour une zone.\n *\n * Relations:\n *   Zone -|---N- UserMap\n */\nexport class Zone {\n  // Attributes\n  _id: string; // nom de la zone\n\n  // Relations\n  maps: Map<string, UserMap>;\n\n  constructor(name: string) {\n    this._id = name;\n    this.maps = new Map<string, UserMap>();\n  }\n\n  /** @DEPRECATED */\n  /** Sauvegarde un objet Zone dans un document NoSQL */\n  async save() {\n    var db = new PouchDB(DatabaseUtils.getProdDB());\n    var doc = null;\n    try {\n      doc = await db.post({\n        _id: this._id,\n        maps: this.maps,\n      });\n    } catch (err) {\n      console.log(err);\n    } finally {\n      await db.close();\n    }\n\n    return doc;\n  }\n\n  /** @DEPRECATED */\n  /** Va chercher un objet Zone ainsi que toutes les classes imbriquées dans un document NoSQL */\n  static async get(id: string) {\n    var db = new PouchDB(DatabaseUtils.getProdDB());\n\n    var doc: Zone;\n    try {\n      doc = await db.get<Zone>(id);\n    } catch (err) {\n      return err;\n    } finally {\n      await db.close();\n    }\n\n    let z = new Zone(doc![\"_id\"]);\n    z.maps = doc!.maps;\n\n    return z;\n  }\n\n  toJson() {\n    let a: any[] = [];\n    let jsonObject: any = {};\n    jsonObject[\"_id\"] = this._id;\n    this.maps.forEach((value: UserMap) => {\n      a.push(value.toJson());\n    });\n    jsonObject[\"maps\"] = a;\n\n    return jsonObject;\n  }\n}\n","import { Coordinate } from \"./coordinatemodel\";\nimport { InterestPointData } from \"./interestpointdatamodel\";\n\n/**\n * Les types de points qui sont possible d'utiliser. Nous pourrons appliquer des comportements à l'application en\n * fonction du type de point.\n */\nexport enum InterestType {\n  service = \"service\",\n  summit = \"summit\",\n  view = \"view\",\n  nature = \"nature\",\n  parking = \"parking\",\n  restroom = \"restroom\",\n  camping = \"camping\",\n  telephone = \"telephone\",\n  picnic = \"picnic\",\n  refuge = \"refuge\",\n  hosting = \"hosting\",\n  unknown = \"unknown\",\n}\n\nexport function getInterestType(x: string): InterestType {\n  return (InterestType as any)[x];\n}\n\n/**\n * Modèle de donnée pour un point d'intérêt\n *\n * Relations:\n *   InterestPoint -N---|- UserMap\n *\n *   InterestPoint -|---|- Coordinate\n */\nexport class InterestPoint {\n  // Attributes\n  name: string;\n  description: string;\n  type: InterestType;\n  uri?: string[];\n  active?: boolean;\n  code: string;\n\n  // Relations\n  coordinate: Coordinate;\n  data: Array<InterestPointData>;\n\n  constructor(\n    name: string,\n    description: string,\n    type: InterestType,\n    coordinate: Coordinate,\n    code: string,\n    active = true\n  ) {\n    this.name = name;\n    this.description = description;\n    this.type = type;\n    this.coordinate = coordinate;\n    this.data = new Array<InterestPointData>();\n    this.code = code;\n    this.active = active;\n  }\n\n  /**\n   * Retourne un objet InterestPoint à partir d'un objet UserMap\n   *\n   * params:\n   *   interestPoints: L'attribut 'interestPoint' de la classe 'UserMap'\n   *   sentierName: L'ID du sentier que l'on veut obtenir\n   */\n  static getFromObjectModel(\n    interestPoints: Array<InterestPoint>,\n    interest_id: string\n  ) {\n    var index = interestPoints\n      .map(function (x) {\n        return x.name;\n      })\n      .indexOf(interest_id);\n    var sentier = interestPoints[index];\n\n    return sentier;\n  }\n\n  static getTypeFromString(type: string) {\n    switch (type) {\n      case \"Parking\":\n        return InterestType.parking;\n      case \"Point de vue\":\n        return InterestType.view;\n      case \"TÃ©lÃ©phone\":\n        return InterestType.telephone;\n      case \"Piquenique\":\n        return InterestType.picnic;\n      case \"Camping rustique\" || \"Camping\":\n        return InterestType.camping;\n      case \"Refuge\":\n        return InterestType.refuge;\n      case \"HÃ©bergement\":\n        return InterestType.hosting;\n      case \"Toilettes\":\n        return InterestType.restroom;\n      default:\n        return InterestType.unknown;\n    }\n  }\n\n  toJson() {\n    let jsonObjectT: any = {};\n    jsonObjectT[\"name\"] = this.name;\n    jsonObjectT[\"description\"] = this.description;\n    jsonObjectT[\"type\"] = this.type;\n    if (this.uri !== undefined) {\n      jsonObjectT[\"uri\"] = this.uri;\n    }\n    jsonObjectT[\"active\"] = this.active;\n    if (this.code !== undefined) {\n      jsonObjectT[\"code\"] = this.code;\n    }\n    jsonObjectT[\"coordinate\"] = this.coordinate;\n    jsonObjectT[\"data\"] = this.data;\n\n    return jsonObjectT;\n  }\n}\n","import { Coordinate } from \"./coordinatemodel\";\nimport { InterestPoint } from \"./interestpointsmodel\";\nimport { Trail } from \"./trailmodel\";\n\n/**\n * Modèle de donnée pour une carte\n *\n * Relations:\n *   UserMap -N---|- Zone\n *\n *   UserMap -|---N- Trail\n *   UserMap -|---N- InterestPoint\n */\nexport class UserMap {\n  // Attributes\n  name: string;\n  map_file: string;\n  topLeftCoordinate: Coordinate;\n  topRightCoordinate: Coordinate;\n  bottomLeftCoordinate: Coordinate;\n  bottomRightCoordinate: Coordinate;\n\n  // Relations\n  trails: Map<string, Trail>;\n  pointsOfInterest: Map<string, InterestPoint>;\n\n  constructor(\n    name: string,\n    map_file: string,\n    topLeftCoordinate: Coordinate,\n    topRightCoordinate: Coordinate,\n    bottomLeftCoordinate: Coordinate,\n    bottomRightCoordinate: Coordinate\n  ) {\n    this.name = name;\n    this.map_file = map_file;\n    this.trails = new Map<string, Trail>();\n    this.pointsOfInterest = new Map<string, InterestPoint>();\n    this.topLeftCoordinate = topLeftCoordinate;\n    this.topRightCoordinate = topRightCoordinate;\n    this.bottomLeftCoordinate = bottomLeftCoordinate;\n    this.bottomRightCoordinate = bottomRightCoordinate;\n  }\n\n  /**\n   * Retourne un objet UserMap à partir d'un objet Zone\n   *\n   * params:\n   *   userMaps: L'attribut 'maps' de la classe 'Zone'\n   *   userMapName: L'ID de la carte que l'on veut obtenir\n   */\n  static getFromObjectModel(usermaps: Array<UserMap>, userMapName: string) {\n    var index = usermaps\n      .map(function (x) {\n        return x.name;\n      })\n      .indexOf(userMapName);\n    var usermap = usermaps[index];\n\n    return usermap;\n  }\n\n  toJson() {\n    let a: any[] = [];\n\n    let b: any[] = [];\n\n    let jsonObject: any = {};\n    jsonObject[\"name\"] = this.name;\n    jsonObject[\"map_file\"] = this.map_file;\n    jsonObject[\"topLeftCoordinate\"] = this.topLeftCoordinate;\n    jsonObject[\"topRightCoordinate\"] = this.topRightCoordinate;\n    jsonObject[\"bottomLeftCoordinate\"] = this.bottomLeftCoordinate;\n    jsonObject[\"bottomRightCoordinate\"] = this.bottomRightCoordinate;\n    this.trails.forEach((value: Trail) => {\n      a.push(value.toJson());\n    });\n\n    if (a.length !== 0) {\n      jsonObject[\"trails\"] = a;\n    }\n\n    this.pointsOfInterest.forEach((value: InterestPoint) => {\n      b.push(value.toJson());\n    });\n    if (b.length !== 0) {\n      jsonObject[\"pointsOfInterest\"] = b;\n    }\n    return jsonObject;\n  }\n}\n","/**\n * Les types de données qui sont possible d'utiliser.\n */\nexport enum DataType {\n  video = \"video\",\n  image = \"image\",\n  texte = \"texte\",\n}\n\nexport function getDataType(x: string): DataType {\n  return (DataType as any)[x];\n}\n\n/**\n * Modèle de donnée pour les fichiers et le texte associé à un point d'intérêt.\n *\n * Relations:\n *   InterestPointData -N---|-InterestPoint\n */\nexport class InterestPointData {\n  // Attributes\n  type: DataType;\n  data: string;\n\n  constructor(type: DataType, data: string) {\n    this.type = type;\n    this.data = data;\n  }\n}\n","import { Coordinate } from \"./coordinatemodel\";\n\n/**\n * Modèle de donnée pour un Sentier\n *\n * Relations:\n *   Sentier -N---|- UserMap\n *\n *   Sentier -|---N- Coordinate\n */\nexport class Trail {\n  // Attributes\n  name: string;\n  description: string | undefined;\n  difficulty: number;\n  uri?: string[];\n  active?: boolean;\n  color?: string;\n\n  // Relations\n  trailCoordinates: Coordinate[];\n\n  constructor(\n    name: string,\n    description: string | undefined,\n    difficulty: number,\n    active: boolean = true,\n    color = \"black\"\n  ) {\n    this.name = name;\n    this.description = description;\n    this.difficulty = difficulty;\n    this.color = color;\n    this.trailCoordinates = Array<Coordinate>();\n    this.active = active;\n  }\n\n  /** Ajoute un point au sentier */\n  addPoint(point: Coordinate) {\n    this.trailCoordinates.push(point);\n  }\n\n  /**\n   * Retourne un objet Sentier à partir d'un objet UserMap\n   *\n   * params:\n   *   sentiers: L'attribut 'sentiers' de la classe 'UserMap'\n   *   sentierName: L'ID du sentier que l'on veut obtenir\n   */\n  static getFromObjectModel(sentiers: Array<Trail>, sentierName: string) {\n    var index = sentiers\n      .map(function (x) {\n        return x.name;\n      })\n      .indexOf(sentierName);\n    var sentier = sentiers[index];\n\n    return sentier;\n  }\n\n  toJson() {\n    let jsonObjectT: any = {};\n    jsonObjectT[\"name\"] = this.name;\n    jsonObjectT[\"description\"] = this.description;\n    jsonObjectT[\"difficulty\"] = this.difficulty;\n    if (this.uri !== undefined) {\n      jsonObjectT[\"uri\"] = this.uri;\n    }\n    jsonObjectT[\"active\"] = this.active;\n    if (this.color !== undefined) {\n      jsonObjectT[\"color\"] = this.color;\n    }\n    jsonObjectT[\"trailCoordinates\"] = this.trailCoordinates;\n    return jsonObjectT;\n  }\n}\n","import { Workbook, Worksheet } from \"exceljs\";\nimport { CompleteModel } from \"../models/completemodel\";\nimport { Coordinate } from \"../models/coordinatemodel\";\nimport {\n  getDataType,\n  InterestPointData,\n} from \"../models/interestpointdatamodel\";\nimport { getInterestType, InterestPoint } from \"../models/interestpointsmodel\";\nimport { Queries } from \"../models/queries\";\nimport { Trail } from \"../models/trailmodel\";\nimport { UserMap } from \"../models/usermapmodel\";\nimport { Zone } from \"../models/zonemodel\";\n\n/** Classe d'intégration avec Excel */\nexport class ImportExcelFile {\n  static async MigrateSentiersDBF(csv: string, xlsx: string) {\n    let wb: Workbook = new Workbook();\n    let model = new CompleteModel();\n    let defaultMap = \"default\";\n    const trailID: string[][] = [];\n\n    await wb.csv.readFile(csv);\n\n    const ws = wb.worksheets[0];\n\n    ws.eachRow((row, rowNumber) => {\n      if (rowNumber !== 1) {\n        let zoneString = row.getCell(3).value!.toString();\n\n        // Zone\n        if (!model.zones.has(zoneString))\n          model.zones.set(zoneString, new Zone(zoneString));\n\n        // Carte\n        if (!model.zones.get(zoneString)!.maps.has(defaultMap)) {\n          let insertMap = new UserMap(\n            defaultMap,\n            \"none\",\n            new Coordinate(-1, -1),\n            new Coordinate(-1, -1),\n            new Coordinate(-1, -1),\n            new Coordinate(-1, -1)\n          );\n          Queries.insertUserMapInZoneMaps({ ref: model }, insertMap, {\n            zone_name: zoneString,\n          });\n        }\n\n        // Trail\n        let trailName = row.getCell(2).value!.toString();\n        let trailFile = row.getCell(1).value!.toString();\n        trailID.push([zoneString, trailName, trailFile]);\n\n        let newTrail = new Trail(trailName, \"none\", -1, true);\n\n        Queries.insertTrailInUserMap({ ref: model }, newTrail, {\n          usermap_name: defaultMap,\n          zone_name: zoneString,\n        });\n      }\n    });\n\n    await ImportExcelFile.MigrateServicesData(\"donnees/services.csv\", {\n      ref: model,\n    });\n    await ImportExcelFile.MigrateTrailCoordinate(trailID, { ref: model });\n    let write_success = this.ReverseEngineerWorkbookProgrammatically(\n      \"output.xlsx\",\n      model\n    );\n    return write_success;\n  }\n\n  static async MigrateTrailCoordinate(\n    trailID: string[][],\n    model: { ref: CompleteModel }\n  ) {\n    for (const id of trailID) {\n      let wb: Workbook = new Workbook();\n      let csvFile = \"donnees/\".concat(id[2]);\n      await wb.csv.readFile(csvFile);\n      const ws = wb.worksheets[0];\n\n      ws.eachRow((row, rowNumber) => {\n        let longitude = Number(row.getCell(1).value!.toString());\n        let latitude = Number(row.getCell(2).value!.toString());\n        let altitude = Number(row.getCell(3).value!.toString());\n        let c = new Coordinate(longitude, latitude, altitude);\n        model.ref.zones\n          .get(id[0])!\n          .maps.get(\"default\")!\n          .trails.get(id[1])!\n          .trailCoordinates.push(c);\n      });\n    }\n  }\n\n  /**\n   * Méthode pour migrer les données du client vers le fichier Excel d'entrée de données. Le fichier d'entrée doit\n   * etre en CSV.\n   *\n   * @param csv Le nom du fichier duquel on veut extraire les données, en csv.\n   * @param xlsx Le nom du fichier qu'on veut générer avec les données, en xlsx.\n   * @returns write_succesful Un string qui indique si l'écriture du fichier Excel résultant est un succès.\n   */\n  static async MigrateServicesData(\n    csv: string,\n    model_by_ref: { ref: CompleteModel }\n  ) {\n    let defaultMap = \"default\";\n\n    let wb = new Workbook();\n    await wb.csv.readFile(csv);\n\n    const ws = wb.worksheets[0];\n    ws.eachRow((row, rowNumber) => {\n      if (rowNumber !== 1) {\n        let zoneString = row.getCell(4).value!.toString();\n\n        // Zone\n        if (!model_by_ref.ref.zones.has(zoneString))\n          model_by_ref.ref.zones.set(zoneString, new Zone(zoneString));\n\n        // Carte\n        if (!model_by_ref.ref.zones.get(zoneString)!.maps.has(defaultMap)) {\n          let insertMap = new UserMap(\n            defaultMap,\n            \"none\",\n            new Coordinate(-1, -1),\n            new Coordinate(-1, -1),\n            new Coordinate(-1, -1),\n            new Coordinate(-1, -1)\n          );\n          model_by_ref.ref.zones\n            .get(zoneString)!\n            .maps.set(defaultMap, insertMap);\n        }\n\n        // InterestPoint\n        let type = row.getCell(5).value!.toString();\n        let poiName = row.getCell(2).value!.toString();\n        let altitude = row.getCell(3).value!.toString();\n        let longitude = row.getCell(18).value!.toString();\n        let latitude = row.getCell(19).value!.toString();\n        let insertedType = InterestPoint.getTypeFromString(type);\n\n        let newPOI = new InterestPoint(\n          poiName,\n          \"none\",\n          insertedType,\n          new Coordinate(Number(longitude), Number(latitude), Number(altitude)),\n          \"none\",\n          true\n        );\n\n        model_by_ref.ref.zones\n          .get(zoneString)!\n          .maps.get(defaultMap)!\n          .pointsOfInterest.set(poiName, newPOI);\n      }\n    });\n  }\n\n  /**\n   * Méthode pour aller chercher des données à partir d'un fichier Excel.\n   * Fonctionne pour le panneau de contrôle administrateur\n   *\n   * @param file Le fichier duquel on veut extraire les données.\n   * @returns un objet CompleteModel.\n   */\n  static async fetchDataFromExcel(filename: string) {\n    let wb: Workbook = new Workbook();\n    let model = new CompleteModel();\n    let model_by_ref = { ref: model };\n    let separator = \", \";\n\n    await wb.xlsx.readFile(filename);\n\n    await this.parseExcelFile(wb, model, model_by_ref, separator);\n\n    return model;\n  }\n\n  private static async parseExcelFile(\n    wb: Workbook,\n    model: CompleteModel,\n    model_by_ref: { ref: CompleteModel },\n    separator: string\n  ) {\n    // Zone\n    const ws_Zone = wb.getWorksheet(\"Zones\");\n    ws_Zone.eachRow(function (row, rowNumber) {\n      if (rowNumber != 1) {\n        let cellvalue = row.getCell(1).value!.toString();\n        let z = new Zone(cellvalue);\n        model.zones.set(z._id, z);\n      }\n    });\n\n    // UserMap\n    const ws_UserMap = wb.getWorksheet(\"Carte\");\n    ws_UserMap.eachRow(\n      await async function (row, rowNumber) {\n        if (rowNumber != 1 && row.getCell(1).value != undefined) {\n          let key = {\n            zone_name: row.getCell(1).value!.toString(),\n          };\n          let usermap_name = row.getCell(2).value!.toString();\n          let filepath = row.getCell(3).value!.toString();\n\n          let tlLong = undefined;\n          let tlLat = undefined;\n          let trLong = undefined;\n          let trLat = undefined;\n          let blLong = undefined;\n          let blLat = undefined;\n          let brLong = undefined;\n          let brLat = undefined;\n\n          if (row.getCell(4).value)\n            tlLong = Number(row.getCell(4).value!.toString());\n          if (row.getCell(5).value)\n            tlLat = Number(row.getCell(5).value!.toString());\n          if (row.getCell(6).value)\n            trLong = Number(row.getCell(6).value!.toString());\n          if (row.getCell(7).value)\n            trLat = Number(row.getCell(7).value!.toString());\n          if (row.getCell(8).value)\n            blLong = Number(row.getCell(8).value!.toString());\n          if (row.getCell(9).value)\n            blLat = Number(row.getCell(9).value!.toString());\n          if (row.getCell(10).value)\n            brLong = Number(row.getCell(10).value!.toString());\n          if (row.getCell(11).value)\n            brLat = Number(row.getCell(11).value!.toString());\n\n          let um = new UserMap(\n            usermap_name,\n            filepath,\n            new Coordinate(tlLong, tlLat),\n            new Coordinate(trLong, trLat),\n            new Coordinate(blLong, blLat),\n            new Coordinate(brLong, brLat)\n          );\n\n          await Queries.insertUserMapInZoneMaps(model_by_ref, um, key);\n        }\n      }\n    );\n\n    // Trail\n    const ws_Trail = wb.getWorksheet(\"Sentier\");\n    ws_Trail.eachRow(\n      await async function (row, rowNumber) {\n        if (rowNumber != 1 && row.getCell(1).value != undefined) {\n          let keyCell = row.getCell(1).value!.toString().split(separator);\n\n          let key = {\n            zone_name: keyCell[0],\n            usermap_name: keyCell[1],\n          };\n\n          let trailDescription = undefined;\n          let difficulty = 1;\n          let color = \"black\";\n          let active = true;\n\n          let trailName = row.getCell(2).value!.toString();\n          if (row.getCell(3).value) {\n            trailDescription = row.getCell(3).value!.toString();\n          }\n          if (row.getCell(4).value) {\n            difficulty = Number(row.getCell(4).value!.toString());\n          }\n          if (row.getCell(5).value) {\n            color = row.getCell(5).value!.toString();\n          }\n          if (row.getCell(6)) {\n            active = Boolean(row.getCell(6).value!.toString());\n          }\n\n          let s = new Trail(\n            trailName,\n            trailDescription,\n            difficulty,\n            active,\n            color\n          );\n\n          await Queries.insertTrailInUserMap(model_by_ref, s, key);\n        }\n      }\n    );\n\n    // Coordonnées de sentiers\n    const ws_coordinateSentier = wb.getWorksheet(\"Coordonnees de Sentier\");\n    ws_coordinateSentier.eachRow(\n      await async function (row, rowNumber) {\n        if (rowNumber != 1 && row.getCell(1).value != undefined) {\n          let keyCell = row.getCell(1).value!.toString().split(separator);\n\n          let key = {\n            zone_name: keyCell[0],\n            usermap_name: keyCell[1],\n            trail_name: keyCell[2],\n          };\n\n          let longitude = undefined;\n          let latitude = undefined;\n          let altitude = undefined;\n\n          if (row.getCell(2).value)\n            longitude = Number(row.getCell(2).value!.toString());\n          if (row.getCell(3).value)\n            latitude = Number(row.getCell(3).value!.toString());\n          if (row.getCell(4).value)\n            altitude = Number(row.getCell(4).value!.toString());\n\n          let c = new Coordinate(longitude, latitude, altitude);\n\n          await Queries.insertCoordinateInTrail(model_by_ref, c, key);\n        }\n      }\n    );\n\n    // Point d'interet\n    const ws_interestPoints = wb.getWorksheet(\"Point d'interet\");\n    ws_interestPoints.eachRow(\n      await async function (row, rowNumber) {\n        if (rowNumber != 1 && row.getCell(1).value != undefined) {\n          let keyCell = row.getCell(1).value!.toString().split(separator);\n\n          let key = {\n            zone_name: keyCell[0],\n            usermap_name: keyCell[1],\n          };\n\n          let poiTypeString = \"unknown\";\n          let description = \"\";\n          let poiLong = undefined;\n          let poiLat = undefined;\n          let active = true;\n\n          let poiName = row.getCell(2).value!.toString();\n          if (row.getCell(3).value)\n            description = row.getCell(3).value!.toString();\n\n          if (row.getCell(4).value)\n            poiTypeString = row.getCell(4).value!.toString();\n          let it = getInterestType(poiTypeString);\n\n          if (row.getCell(5))\n            active = Boolean(row.getCell(5).value!.toString());\n\n          if (row.getCell(6))\n            poiLong = Number(row.getCell(6).value!.toString());\n          if (row.getCell(7)) poiLat = Number(row.getCell(7).value!.toString());\n\n          let ip = new InterestPoint(\n            poiName,\n            description,\n            it,\n            new Coordinate(poiLong, poiLat),\n            \"code\",\n            active\n          );\n\n          await Queries.insertInterestPointInUserMap(model_by_ref, ip, key);\n        }\n      }\n    );\n\n    // Données d'un point d'interet\n    const ws_interestPointsData = wb.getWorksheet(\n      \"Fichiers de point d'interet\"\n    );\n    ws_interestPointsData.eachRow(\n      await async function (row, rowNumber) {\n        if (rowNumber != 1 && row.getCell(1).value != undefined) {\n          let keyCell = row.getCell(1).value!.toString().split(separator);\n\n          let key = {\n            zone_name: keyCell[0],\n            usermap_name: keyCell[1],\n            interest_point_name: keyCell[2],\n          };\n\n          let ipd_type = row.getCell(2).value!.toString();\n          let datatype = getDataType(ipd_type);\n\n          let ipd_data = row.getCell(3).value!.toString();\n\n          let ip = new InterestPointData(datatype, ipd_data);\n\n          await Queries.insertInterestPointDataInInterestPoint(\n            model_by_ref,\n            ip,\n            key\n          );\n        }\n      }\n    );\n  }\n\n  /**\n   * Méthode pour aller chercher des données à partir d'un fichier Excel.\n   * Fonctionne pour le panneau de contrôle administrateur\n   *\n   * @param file Le fichier duquel on veut extraire les données.\n   * @returns un objet CompleteModel.\n   */\n  static async fetchDataFromExcelFromBrowser(file: File) {\n    const Excel = require(\"exceljs\");\n    let wb: Workbook = new Excel.Workbook();\n    let model = new CompleteModel();\n    let model_by_ref = { ref: model };\n    let separator = \", \";\n\n    // @ts-ignore\n    let arrayBuff = await file.arrayBuffer();\n    let buffer = await ImportExcelFile.toBuffer(arrayBuff);\n    return Promise.resolve(\n      await wb.xlsx.load(buffer).then(async (book) => {\n        try {\n          // Zone\n          await this.parseExcelFile(wb, model, model_by_ref, separator);\n        } catch (err) {\n          console.log(err);\n          return Promise.resolve(new CompleteModel());\n        }\n        console.log(model);\n        return Promise.resolve(model);\n      })\n    );\n  }\n\n  /**\n   * Produit un Buffer à partir d'un objet 'ArrayBuffer'.\n   *\n   * @param model L'objet 'ArrayBuffer'.\n   * @returns un Buffer.\n   */\n  static async toBuffer(ab: ArrayBuffer) {\n    let buf = Buffer.alloc(ab.byteLength);\n    let view = new Uint8Array(ab);\n    for (var i = 0; i < buf.length; ++i) {\n      buf[i] = view[i];\n    }\n    return buf;\n  }\n\n  /**\n   * Produit un fichier Excel à partir d'un objet 'CompleteModel'.\n   *\n   * @param filename Le nom que l'on veut donner à notre feuille Excel.\n   * @param model L'objet 'CompleteModel' à insérer dans une feuille Excel.\n   * @returns \"write succesful\" si la méthode n'a pas rencontré d'erreur.\n   */\n  static async ReverseEngineerWorkbookProgrammatically(\n    filename: string,\n    model: CompleteModel\n  ) {\n    const wb: Workbook = new Workbook();\n\n    /** # general info */\n    wb.creator = \"Sentiers de l'Estrie\";\n    wb.created = new Date();\n\n    /** # make sheets */\n    const key_sheet = wb.addWorksheet(\"Keys\", {\n      views: [{ state: \"frozen\", ySplit: 1 }],\n    });\n    const zone_sheet = wb.addWorksheet(\"Zones\", {\n      views: [{ state: \"frozen\", ySplit: 1 }],\n    });\n    const usermap_sheet = wb.addWorksheet(\"Carte\", {\n      views: [{ state: \"frozen\", ySplit: 1 }],\n    });\n    const sentier_sheet = wb.addWorksheet(\"Sentier\", {\n      views: [{ state: \"frozen\", ySplit: 1 }],\n    });\n    const coordinateSentier_sheet = wb.addWorksheet(\"Coordonnees de Sentier\", {\n      views: [{ state: \"frozen\", ySplit: 1 }],\n    });\n    const interestPoint_sheet = wb.addWorksheet(\"Point d'interet\", {\n      views: [{ state: \"frozen\", ySplit: 1 }],\n    });\n    const interestPointData_sheet = wb.addWorksheet(\n      \"Fichiers de point d'interet\",\n      { views: [{ state: \"frozen\", ySplit: 1 }] }\n    );\n\n    /** ## make tables within spreadsheets that contain row names, column names, data */\n    let ExcelModel = this.FormatModelToExcel(model);\n    let ColumnsModel = this.MakeColumnsMap();\n\n    this.addTableWrapper(\n      zone_sheet,\n      \"tableau_zones\",\n      ColumnsModel,\n      ExcelModel,\n      \"zones\"\n    );\n    this.addTableWrapper(\n      usermap_sheet,\n      \"tableau_cartes\",\n      ColumnsModel,\n      ExcelModel,\n      \"user_maps\"\n    );\n    this.addTableWrapper(\n      sentier_sheet,\n      \"tableau_sentiers\",\n      ColumnsModel,\n      ExcelModel,\n      \"sentiers\"\n    );\n    this.addTableWrapper(\n      coordinateSentier_sheet,\n      \"tableau_coordinateSentiers\",\n      ColumnsModel,\n      ExcelModel,\n      \"coordinate_sentiers\"\n    );\n    this.addTableWrapper(\n      interestPoint_sheet,\n      \"tableau_interestPoint\",\n      ColumnsModel,\n      ExcelModel,\n      \"interest_points\"\n    );\n    this.addTableWrapper(\n      interestPointData_sheet,\n      \"tableau_interestPointData\",\n      ColumnsModel,\n      ExcelModel,\n      \"interest_points_data\"\n    );\n\n    /** # Data validation */\n    /** ## Configure single key as defined name */\n    zone_sheet\n      .getColumn(\"A\")\n      .eachCell({ includeEmpty: true }, function (cell, rowNumber) {\n        if (rowNumber !== 1) {\n          cell.name = \"Zone_ID\";\n        }\n      });\n\n    /** ## Configure composite keys sheet */\n    let separator = '\", \"';\n    // @ts-ignore\n    wb.definedNames.addFormula(\n      \"CONCATENATE(tableau_cartes[ID: Zone],\" +\n        separator +\n        \",tableau_cartes[ID: Nom])\",\n      \"Cartes_PK\"\n    );\n    // @ts-ignore\n    wb.definedNames.addFormula(\n      \"CONCATENATE(tableau_sentiers[ID: Zone, Carte],\" +\n        separator +\n        \",tableau_sentiers[ID: Nom])\",\n      \"Sentier_PK\"\n    );\n    // @ts-ignore\n    wb.definedNames.addFormula(\n      \"CONCATENATE(tableau_interestPoint[ID: Zone, Carte],\" +\n        separator +\n        \",tableau_interestPoint[ID: Nom])\",\n      \"PointInteret_PK\"\n    );\n\n    //keys\n    key_sheet.getCell(\"A1\").value = \"Cartes_PK\";\n    key_sheet.getCell(\"A2\").value = \"=Cartes_PK\";\n\n    key_sheet.getCell(\"B1\").value = \"Sentier_PK\";\n    key_sheet.getCell(\"B2\").value = \"=Sentier_PK\";\n\n    key_sheet.getCell(\"C1\").value = \"PointInteret_PK\";\n    key_sheet.getCell(\"C2\").value = \"=PointInteret_PK\";\n\n    /** # Add validation to first column */\n    this.dataValidationWrapper(\n      usermap_sheet,\n      \"Zone_ID\",\n      \"'ID: Zone'\",\n      \"'Zone'\"\n    );\n    this.dataValidationWrapper(\n      sentier_sheet,\n      \"Keys!A:A\",\n      \"'ID: Zone', 'ID: Nom'\",\n      \"'Carte'\"\n    );\n    this.dataValidationWrapper(\n      coordinateSentier_sheet,\n      \"Keys!B:B\",\n      \"'ID: Carte', 'ID: Nom'\",\n      \"'Sentier'\"\n    );\n    this.dataValidationWrapper(\n      interestPoint_sheet,\n      \"Keys!A:A\",\n      \"'ID: Zone', 'ID: Nom'\",\n      \"'Carte'\"\n    );\n    this.dataValidationWrapper(\n      interestPointData_sheet,\n      \"Keys!C:C\",\n      \"'ID: Sentier', 'ID: Nom'\",\n      \"'Point d'interet'\"\n    );\n\n    await wb.xlsx.writeFile(filename);\n\n    return \"write succesful\";\n  }\n\n  /**\n   * Abstraction pour ajouter un 'table Excel' contenant les données dans un fichier Excel\n   * @param sheet Une feuille du fichier Excel.\n   * @param table_name Nom à attribuer à la table.\n   * @param columns Le nom donné à chaque colonne de l'entité 'table Excel'.\n   * @param excel_model La map des colonnes pour chaque feuille Excel.\n   * @param model_key La clé du paramètre 'excel_model' pour obtenir les colonnes à ajouter au 'table Excel'.\n   */\n  private static addTableWrapper(\n    sheet: Worksheet,\n    table_name: string,\n    columns: any,\n    excel_model: Map<any, any>,\n    model_key: string\n  ) {\n    sheet.addTable({\n      name: table_name,\n      ref: \"A1\",\n      headerRow: true,\n      style: {\n        theme: \"TableStyleDark3\",\n        showRowStripes: true,\n      },\n      columns: columns.get(model_key),\n      rows: excel_model.get(model_key),\n    });\n    this.makeColumnsPretty(sheet);\n  }\n\n  /** Création statique de la définition des colonnes pour les 'tables Excel'. */\n  private static MakeColumnsMap() {\n    let ColumnsMap = new Map();\n\n    let zone_columns = [{ name: \"ID: Nom\", filterButton: true }];\n\n    let usermap_columns = [\n      { name: \"ID: Zone\", filterButton: true },\n      { name: \"ID: Nom\", filterButton: true },\n      { name: \"Path\", filterButton: true },\n      { name: \"Coin gauche sup. longitude\", filterButton: true },\n      { name: \"Coin gauche sup. latitude\", filterButton: true },\n      { name: \"Coin droit sup. longitude\", filterButton: true },\n      { name: \"Coin droit sup. latitude\", filterButton: true },\n      { name: \"Coin gauche inf. longitude\", filterButton: true },\n      { name: \"Coin gauche inf. latitude\", filterButton: true },\n      { name: \"Coin droit inf. longitude\", filterButton: true },\n      { name: \"Coin droit inf. latitude\", filterButton: true },\n    ];\n\n    let sentier_columns = [\n      { name: \"ID: Zone, Carte\", filterButton: true },\n      { name: \"ID: Nom\", filterButton: true },\n      { name: \"Description\", filterButton: true },\n      { name: \"Difficultée\", filterButton: true },\n      { name: \"Couleur du sentier\", filterButton: true },\n      { name: \"Active\", filterButton: true },\n    ];\n\n    let trailCoordinates_columns = [\n      { name: \"ID: Zone, Carte, Sentier\", filterButton: true },\n      { name: \"Longitude\", filterButton: true },\n      { name: \"Latitude\", filterButton: true },\n      { name: \"Altitude\", filterButton: true },\n    ];\n\n    let interestPoint_columns = [\n      { name: \"ID: Zone, Carte\", filterButton: true },\n      { name: \"ID: Nom\", filterButton: true },\n      { name: \"Description\", filterButton: true },\n      { name: \"Type d'intérêt\", filterButton: true },\n      { name: \"Active\", filterButton: true },\n      { name: \"Longitude\", filterButton: true },\n      { name: \"Latitude\", filterButton: true },\n    ];\n\n    let interestPointData_columns = [\n      { name: \"ID: Point d'interet\", filterButton: true },\n      { name: \"Type de donnee\", filterButton: true },\n      { name: \"Donnee\", filterButton: true },\n    ];\n\n    ColumnsMap.set(\"zones\", zone_columns);\n    ColumnsMap.set(\"user_maps\", usermap_columns);\n    ColumnsMap.set(\"sentiers\", sentier_columns);\n    ColumnsMap.set(\"coordinate_sentiers\", trailCoordinates_columns);\n    ColumnsMap.set(\"interest_points\", interestPoint_columns);\n    ColumnsMap.set(\"interest_points_data\", interestPointData_columns);\n\n    return ColumnsMap;\n  }\n\n  /**\n   * Insère les lignes de Excel dans un objet CompleteModel.\n   * @param model Un objet CompleteModel.\n   * @returns Un objet CompleteModel.\n   */\n  static FormatModelToExcel(model: CompleteModel) {\n    const separator = \", \";\n    let ExcelModel = new Map();\n\n    const zoneRows: string[][] = [];\n    const usermapRows: any[][] = [];\n    const sentierRows: any[][] = [];\n    const coordinateSentierRows: any[][] = [];\n    const interestPointRows: any[][] = [];\n    const interestPointDataRows: any[][] = [];\n\n    model.zones.forEach(function (zone) {\n      zoneRows.push([zone._id]);\n\n      zone.maps.forEach(function (usermap) {\n        usermapRows.push([\n          zone._id,\n          usermap.name,\n          usermap.map_file,\n          usermap.topLeftCoordinate.longitude,\n          usermap.topLeftCoordinate.latitude,\n          usermap.topRightCoordinate.longitude,\n          usermap.topRightCoordinate.latitude,\n          usermap.bottomLeftCoordinate.longitude,\n          usermap.bottomLeftCoordinate.latitude,\n          usermap.bottomRightCoordinate.longitude,\n          usermap.bottomRightCoordinate.latitude,\n        ]);\n\n        usermap.trails.forEach(function (trail) {\n          sentierRows.push([\n            zone._id + separator + usermap.name,\n            trail.name,\n            trail.description,\n            trail.difficulty,\n            trail.color,\n            trail.active,\n          ]);\n\n          trail.trailCoordinates.forEach(function (point) {\n            coordinateSentierRows.push([\n              zone._id + separator + usermap.name + separator + trail.name,\n              point.longitude,\n              point.latitude,\n              point.altitude,\n            ]);\n          });\n        });\n\n        usermap.pointsOfInterest.forEach(function (interest_point) {\n          interestPointRows.push([\n            zone._id + separator + usermap.name,\n            interest_point.name,\n            interest_point.description,\n            interest_point.type,\n            interest_point.active,\n            interest_point.coordinate.longitude,\n            interest_point.coordinate.latitude,\n          ]);\n\n          interest_point.data.forEach(function (interest_point_data) {\n            interestPointDataRows.push([\n              zone._id +\n                separator +\n                usermap.name +\n                separator +\n                interest_point.name,\n              interest_point_data.type,\n              interest_point_data.data,\n            ]);\n          });\n        });\n      });\n    });\n\n    if (interestPointDataRows.length == 0)\n      interestPointDataRows.push([\n        \"Bolton, default, Lac Trousers\",\n        \"image\",\n        \"img\",\n      ]);\n\n    ExcelModel.set(\"zones\", zoneRows);\n    ExcelModel.set(\"user_maps\", usermapRows);\n    ExcelModel.set(\"sentiers\", sentierRows);\n    ExcelModel.set(\"coordinate_sentiers\", coordinateSentierRows);\n    ExcelModel.set(\"interest_points\", interestPointRows);\n    ExcelModel.set(\"interest_points_data\", interestPointDataRows);\n\n    return ExcelModel;\n  }\n\n  /**\n   * Ajuste la longueur des colonnes\n   * @param sheet Une feuille du fichier Excel.\n   */\n  static makeColumnsPretty(sheet: Worksheet) {\n    sheet.columns.forEach((column) => {\n      var maxLength = 0;\n      // @ts-ignore\n      column.eachCell({ includeEmpty: true }, function (cell, rowNumber) {\n        var columnLength = cell.value ? cell.value.toString().length : 10;\n        if (columnLength > maxLength) {\n          maxLength = columnLength;\n        }\n      });\n      column.width = maxLength < 10 ? 10 : maxLength;\n    });\n  }\n\n  /**\n   * Abstraction pour ajouter une validation des données à la première colonne d'une feuille Excel\n   * @param sheet Une feuille du fichier Excel.\n   * @param formula La formule en VBA pour la validation des données.\n   * @param foreign_key Spécifie à l'utilisateur quelles colonnes composent la clé étrangère de cette feuille.\n   * @param feuille Spécifie à l'utilisateur l'entitée parente de cette feuille, le lien de dépendance.\n   */\n  private static dataValidationWrapper(\n    sheet: Worksheet,\n    formula: string,\n    foreign_key: string,\n    feuille: string\n  ) {\n    sheet\n      .getColumn(\"A\")\n      .eachCell({ includeEmpty: true }, function (cell, rowNumber) {\n        if (rowNumber !== 1) {\n          cell.dataValidation = {\n            type: \"list\",\n            allowBlank: true,\n            showInputMessage: true,\n            formulae: [formula],\n            // showErrorMessage: true,\n            promptTitle: \"Foreign Key\",\n            prompt:\n              \"La valeur doit être présente dans la colonne \" +\n              foreign_key +\n              \" de la feuille \" +\n              feuille +\n              \".\",\n          };\n        }\n      });\n  }\n}\n"],"sourceRoot":""}